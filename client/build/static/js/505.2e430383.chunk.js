"use strict";(self.webpackChunkaudible=self.webpackChunkaudible||[]).push([[505],{7505:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var n=a(5043),t=a(1688),i=a(2582),r=a(854),o=a.n(r),l=a(6525),c=a(579);const u=()=>{const{user:e,setUser:s}=n.useContext(l.R),[a,r]=(0,n.useState)(""),[u,d]=(0,n.useState)(""),[m,g]=(0,n.useState)(""),[p,h]=(0,n.useState)(!1),x=(0,t.W6)();return(0,n.useEffect)((()=>{setTimeout((()=>{p&&x.push("/")}),3e3)}),[p,x]),(0,c.jsxs)("div",{className:"signin",children:[(0,c.jsx)(i.N_,{to:"/",children:(0,c.jsx)("img",{src:"/audible/logo.png",alt:""})}),p&&(0,c.jsxs)("div",{success:p,className:"login__loader",children:[(0,c.jsx)("img",{src:"./audible/Glowing ring.gif",alt:""}),(0,c.jsx)("h4",{children:"Logging in"})]}),(0,c.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const t={header:{"Content-Type":"application/json"}};try{const{data:n}=await o().post("https://audible-e-commerce.onrender.com/api/auth/login",{email:a,password:u},t);e.token=n.token,localStorage.setItem("user",JSON.stringify(e)),s(e),h(!0)}catch(m){m.response&&g(m.response.data.error),setTimeout((()=>{g("")}),5e3)}},className:"form__container",children:[(0,c.jsx)("h3",{children:"Sign in with your Amazon account"}),m&&(0,c.jsx)("span",{className:"error__message",children:m}),(0,c.jsx)("span",{className:"labels",children:"Email "}),(0,c.jsx)("input",{className:"input__field",type:"email",required:!0,id:"email",onChange:e=>r(e.target.value),value:a,tabIndex:1}),(0,c.jsxs)("span",{className:"signin__forgot",children:["Password"," ",(0,c.jsx)(i.N_,{className:"links",to:"/forgotpassword",children:"Forgot Password?"})]}),(0,c.jsx)("input",{className:"input__field",type:"password",required:!0,id:"password",autoComplete:"true",onChange:e=>d(e.target.value),value:u,tabIndex:2}),(0,c.jsx)("button",{type:"submit",className:"signin__btn",children:"Sign In"}),(0,c.jsx)("span",{className:"new__sign",children:"New to Amazon? "}),(0,c.jsx)(i.N_,{to:"/register",children:(0,c.jsx)("button",{className:"signin__register",children:"Create your amazon account"})})]})]})}}}]);
//# sourceMappingURL=505.2e430383.chunk.js.map