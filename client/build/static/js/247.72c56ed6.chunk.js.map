{"version":3,"file":"static/js/247.72c56ed6.chunk.js","mappings":"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","sources":["components/Signin/Register.js"],"sourcesContent":["import { useEffect, useContext, useState, } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link, useHistory  } from \"react-router-dom\";\r\nimport { UserContext } from \"../../context/user\";\r\n\r\n\r\nconst Register = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const {user, setUser } = useContext(UserContext);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(false)\r\n  const history = useHistory()\r\n  const registerHandler = async (e) => {\r\n    e.preventDefault();\r\n  \r\n    const config = {\r\n      header: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    };\r\n\r\n    if (password !== confirmpassword) {\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setTimeout(() => {\r\n        setError(\"\");\r\n      }, 5000);\r\n      return setError(\"Passwords do not match\");\r\n    }\r\n\r\n    try {\r\n      const { data } = await axios.post(\r\n        \"https://audible-e-commerce.onrender.com/api/auth/register\",\r\n        {\r\n          username,\r\n          email,\r\n          password,\r\n        },       \r\n        config\r\n      );    \r\n      user.token = data.token;\r\n      localStorage.setItem('user',JSON.stringify(user))\r\n      setUser(user)\r\n      setSuccess(true)\r\n    } catch (error) {\r\n      if (error.response) {\r\n        setError(error.response.data.error);\r\n      }\r\n      setTimeout(() => {\r\n         setError(\"\");\r\n      }, 5000);\r\n    }\r\n  };\r\n    \r\n  useEffect(()=>{\r\n    setTimeout(()=>{\r\n      if(success){\r\n        history.push('/')\r\n      }\r\n    },3000)\r\n  },[success, history])\r\n\r\n\r\n  return (\r\n    <div className=\"signin\">\r\n      <Link to='/'>\r\n        <img src='/audible/logo.png' alt= '' />\r\n      </Link>  \r\n      <form onSubmit={registerHandler} className=\"form__container\">\r\n        <h3>Create account</h3>\r\n        {error && <span className=\"error__message\">{error}</span>}\r\n          <span  className='labels'>Username</span>\r\n          <input\r\n            type=\"text\"\r\n            className=\"input__field\"\r\n            required\r\n            id=\"name\"          \r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n          <span  className='labels'>Email</span>\r\n          <input\r\n            type=\"email\"\r\n            className=\"input__field\"\r\n            required\r\n            id=\"email\"  \r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          /> \r\n          <span  className='labels'>Password</span>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"password\"\r\n            className=\"input__field\"\r\n            autoComplete=\"true\"\r\n            placeholder=\"At least 6 characters\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <span  className='labels'>Re-enter password</span>\r\n          <input\r\n            type=\"password\"\r\n            required\r\n            id=\"confirmpassword\"\r\n            className=\"input__field\"\r\n            autoComplete=\"true\"\r\n            value={confirmpassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />   \r\n        <button type=\"submit\"  className=\"register__btn\">\r\n          Create your Amazon account\r\n        </button>\r\n        <span >\r\n          Already have an account? <Link className='links' to=\"/login\">Login</Link>\r\n        </span>\r\n      </form>\r\n      {success && (\r\n        <div className='login__loader'>\r\n          <img src='./audible/Glowing ring.gif' alt= ''></img>\r\n          <h4>Your account has been created </h4>\r\n          </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"],"names":["Register","username","setUsername","useState","email","setEmail","user","setUser","useContext","UserContext","password","setPassword","confirmpassword","setConfirmPassword","error","setError","success","setSuccess","history","useHistory","useEffect","setTimeout","push","_jsxs","className","children","_jsx","Link","to","src","alt","onSubmit","async","e","preventDefault","config","header","data","axios","token","localStorage","setItem","JSON","stringify","response","type","required","id","value","onChange","target","autoComplete","placeholder"],"sourceRoot":""}