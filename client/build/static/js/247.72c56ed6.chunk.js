"use strict";(self.webpackChunkaudible=self.webpackChunkaudible||[]).push([[247],{7247:(e,s,a)=>{a.r(s),a.d(s,{default:()=>c});var t=a(5043),n=a(854),r=a.n(n),l=a(1688),i=a(2582),o=a(6525),u=a(579);const c=()=>{const[e,s]=(0,t.useState)(""),[a,n]=(0,t.useState)(""),{user:c,setUser:d}=(0,t.useContext)(o.R),[p,m]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[x,j]=(0,t.useState)(""),[_,N]=(0,t.useState)(!1),b=(0,l.W6)();return(0,t.useEffect)((()=>{setTimeout((()=>{_&&b.push("/")}),3e3)}),[_,b]),(0,u.jsxs)("div",{className:"signin",children:[(0,u.jsx)(i.N_,{to:"/",children:(0,u.jsx)("img",{src:"/audible/logo.png",alt:""})}),(0,u.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const t={header:{"Content-Type":"application/json"}};if(p!==h)return m(""),g(""),setTimeout((()=>{j("")}),5e3),j("Passwords do not match");try{const{data:s}=await r().post("https://audible-e-commerce.onrender.com/api/auth/register",{username:e,email:a,password:p},t);c.token=s.token,localStorage.setItem("user",JSON.stringify(c)),d(c),N(!0)}catch(x){x.response&&j(x.response.data.error),setTimeout((()=>{j("")}),5e3)}},className:"form__container",children:[(0,u.jsx)("h3",{children:"Create account"}),x&&(0,u.jsx)("span",{className:"error__message",children:x}),(0,u.jsx)("span",{className:"labels",children:"Username"}),(0,u.jsx)("input",{type:"text",className:"input__field",required:!0,id:"name",value:e,onChange:e=>s(e.target.value)}),(0,u.jsx)("span",{className:"labels",children:"Email"}),(0,u.jsx)("input",{type:"email",className:"input__field",required:!0,id:"email",value:a,onChange:e=>n(e.target.value)}),(0,u.jsx)("span",{className:"labels",children:"Password"}),(0,u.jsx)("input",{type:"password",required:!0,id:"password",className:"input__field",autoComplete:"true",placeholder:"At least 6 characters",value:p,onChange:e=>m(e.target.value)}),(0,u.jsx)("span",{className:"labels",children:"Re-enter password"}),(0,u.jsx)("input",{type:"password",required:!0,id:"confirmpassword",className:"input__field",autoComplete:"true",value:h,onChange:e=>g(e.target.value)}),(0,u.jsx)("button",{type:"submit",className:"register__btn",children:"Create your Amazon account"}),(0,u.jsxs)("span",{children:["Already have an account? ",(0,u.jsx)(i.N_,{className:"links",to:"/login",children:"Login"})]})]}),_&&(0,u.jsxs)("div",{className:"login__loader",children:[(0,u.jsx)("img",{src:"./audible/Glowing ring.gif",alt:""}),(0,u.jsx)("h4",{children:"Your account has been created "})]})]})}}}]);
//# sourceMappingURL=247.72c56ed6.chunk.js.map