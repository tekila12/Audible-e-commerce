"use strict";(self.webpackChunkaudible=self.webpackChunkaudible||[]).push([[737],{7737:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u});var a=t(5043),r=t(1972),n=t(3393),l=t(9356),i=t(5902),d=t(1688),c=t(579);const o=()=>(0,c.jsxs)("div",{className:"dev__main",children:[(0,c.jsx)("h5",{style:{color:"#8ef0ef"},children:"How to get a first dev job"}),(0,c.jsx)("div",{className:"dev__right",children:(0,c.jsx)("div",{children:(0,c.jsx)("h5",{children:'console.log("Hello World!");'})})}),(0,c.jsx)("div",{className:"dev__bottom",children:(0,c.jsx)("h5",{children:"By: Ajnur Radovic"})}),(0,c.jsx)("div",{className:"dev__side"})]}),h=()=>{const{total:e}=(0,a.useContext)(l.M),{cart:s}=(0,a.useContext)(l.M),t=(0,d.W6)(),{clearCart:r}=(0,a.useContext)(l.M),[h,m]=(0,a.useState)(null),[u,x]=a.useState(""),[j,p]=(0,a.useState)(!1),[_,f]=(0,a.useState)(null),[v,b]=(0,a.useState)(""),[y,C]=(0,a.useState)(!0),[N,g]=(0,a.useState)(""),S=(0,n.useStripe)(),E=(0,n.useElements)();(0,a.useEffect)((()=>{window.fetch("https://audible-e-commerce.onrender.com/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{cart:s}]})}).then((e=>e.json())).then((e=>{g(e.clientSecret)}))}),[s]);return(0,a.useEffect)((()=>{setTimeout((()=>{j&&t.push("/")}),3e3)}),[t,j]),(0,c.jsxs)("form",{id:"payment-form",onSubmit:async e=>{if(e.preventDefault(),b(!0),u.length>0){const e=await S.confirmCardPayment(N,{payment_method:{card:E.getElement(n.CardElement),billing_details:{name:"name"}}});e.error?(f(`Payment failed ${e.error.message}`),b(!1)):(f(null),b(!1),p(!0),r())}else m("please enter the name"),b(!1)},children:[(0,c.jsxs)("div",{className:"checkout__top",children:[(0,c.jsx)("h2",{className:"payment__cart",children:"1. Cart"}),(0,c.jsx)("h2",{className:"payment__checkout",children:"2. Checkout"})]}),(0,c.jsxs)("div",{className:"payment__cont",children:[(0,c.jsx)("label",{children:"Cardholder Name "}),(0,c.jsx)("input",{placeholder:"Please enter your Cardholder Name",type:"text",id:"name",value:u,onChange:async e=>{const{value:s}=e.target;C(!s),m(s?"":"Please enter a name"),x(s)}}),h&&(0,c.jsx)("div",{className:"card__error",role:"alert",children:(0,c.jsx)("h4",{children:"Please enter a Cardholder Name"})})]}),(0,c.jsxs)("div",{className:"stripe__input",children:[(0,c.jsx)("label",{htmlFor:"card__element",children:"Credit or Debit Card"}),(0,c.jsxs)("p",{className:"stripe__info",children:["Test using this credit card : ",(0,c.jsx)("span",{children:"4242 4242 4242 4242"}),(0,c.jsx)("br",{}),"Enter any 5 digits for the zip code",(0,c.jsx)("br",{}),"Enter any 3 digits for the CVC"]})]}),(0,c.jsx)(n.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:async e=>{C(e.empty),f(e.error?e.error.message:"")}}),_&&(0,c.jsx)("div",{className:"cards__error",role:"alert",children:(0,c.jsx)("h4",{children:_})}),(0,c.jsxs)("div",{className:"review__order",children:[(0,c.jsx)("h3",{children:"Review Order"}),(0,c.jsxs)("h4",{children:["Total amount to pay :",(0,c.jsxs)("span",{className:"total__payment",children:[" $",e]})]}),(0,c.jsx)("button",{className:"purchase__button",disabled:v||y||j,id:"submit",children:(0,c.jsx)("span",{id:"button-text",children:v?(0,c.jsx)("div",{className:"spinner",id:"spinner",children:(0,c.jsx)(i.efO,{})}):"Complete purchase"})}),(0,c.jsx)("button",{className:"edit__button",onClick:()=>{t.push("/cart")},children:"Edit Items"})]}),(0,c.jsxs)("div",{className:j?"result-message":"result-message hidden",children:[(0,c.jsx)("img",{src:"./audible/money.gif",alt:""}),(0,c.jsx)(o,{}),(0,c.jsx)("h1",{children:"Payment succeeded"})]})]})},m=(0,r.c)("pk_test_51IaINYEqJWuHZaMS8NbdFT8M7ssdvFXOqBO8gwn1MjQCJ9Mq5kYdraTFG4Y28iJD9xLtaWKJanVLLbjlZrduQKHv00uJ0WbJnu"),u=()=>(0,c.jsx)(n.Elements,{stripe:m,children:(0,c.jsx)(h,{})})}}]);
//# sourceMappingURL=737.1e944e14.chunk.js.map